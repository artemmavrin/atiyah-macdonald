\begin{exercise}
Let \(A\) be a ring and let \(A[[x]]\) be the ring of formal power series \(f = \sum_{n=0}^\infty a_n x^n\) with coefficients in \(A\).
Show that
\begin{parts}
\part
\(f\) is a unit in \(A[[x]]\) \(\iff\) \(a_0\) is a unit in \(A\).
\part
If \(f\) is nilpotent, then \(a_n\) is nilpotent for all \(n\geq 0\).
Is the converse true?
(See Chapter~7, Exercise~2.)
\part
\(f\) belongs to the Jacobson radical of \(A[[x]]\) \(\iff\) \(a_0\) belongs to the Jacobson radical of \(A\).
\part
The contraction of a maximal ideal \(\mathfrak m\) of \(A[[x]]\) is a maximal ideal of \(A\), and \(\mathfrak m\) is generated by \(\mathfrak m^c\) and \(x\).
\part
Every prime ideal of \(A\) is the contraction of a prime ideal of \(A[[x]]\).
\end{parts}
\end{exercise}

\begin{partsolution}{1}{5}{i}
(\(\Rightarrow\))
If \(f\in A[[x]]\) is a unit with inverse \(g\in A[[x]]\), then looking at the constant term of \(f g = 1\) shows that \(a_0\) is a unit.

(\(\Leftarrow\))
Suppose \(a_0\) is a unit.
Define \(b_0, b_1, b_2, \ldots \in A\) recursively as \(b_0 = a_0^{-1}\) and, having defined \(b_0,\ldots,b_{r-1}\), define
\begin{equation*}
b_r = -a_0^{-1}\sum_{k=1}^r a_k b_{r-k}.
\end{equation*}
Now let \(g = \sum_{n=0}^\infty b_n x^n \in A[[x]]\).
Then \(f g = \sum_{n=0}^\infty c_n x^n\), where
\begin{equation*}
c_n = \sum_{k=0}^n a_k b_{n-k}.
\end{equation*}
It follows that \(c_0 = a_0 b_0 = 1\) and
\begin{equation*}
c_n
= \sum_{k=1}^n a_k b_{n-k} + a_0 b_n
= \sum_{k=1}^n a_k b_{n-k} - a_0 a_0^{-1} \sum_{k=1}^n a_k b_{n-k}
= 0
\end{equation*}
for \(n \geq 1\).
Therefore \(f g = 1\), so \(f\) is invertible.
\end{partsolution}

We will occasionally need to use the following result.

\begin{claim}
\label{claim:1.5.1}
If \(A\) is an integral domain, then \(A[[x]]\) is an integral domain.
\end{claim}

\begin{proof}
Suppose \(f,g\in A[[x]]\) are nonzero.
Write
\begin{equation*}
f = \sum_{n=0}^\infty a_n x^n,
\qquad
g = \sum_{n=0}^\infty b_n x^n,
\qquad
f g = \sum_{n=0}^\infty c_n x^n,
\end{equation*}
where
\begin{equation*}
c_n = \sum_{i + j = n} a_i b_j.
\end{equation*}
Choose the least non-negative integers \(i_0\) and \(j_0\) such that \(a_{i_0} \neq 0\) and \(b_{i_0} \neq 0\).
Thus, \(a_{i_0} b_{j_0} \neq 0\), and \(a_i = b_j = 0\) for \(i < i_0\) and \(j < j_0\).
If \(n = i_0 + j_0\), then
\begin{equation}
\label{eq:claim 1.5.1}
c_n = a_{i_0} b_{j_0} + \sum_{\substack{i + j = n \\ i \neq i_0}} a_i b_j.
\end{equation}
In every term of the sum in \eqref{eq:claim 1.5.1}, either \(i < i_0\) or \(j < j_0\), so the sum is zero. Thus, \(c_n = a_{i_0} b_{j_0} \neq 0\), so \(f g \neq 0\), whence \(A[[x]]\) is an integral domain.
\end{proof}

\begin{partsolution}{1}{5}{ii}
Suppose \(f\) is nilpotent, and let \(\mathfrak p\) be a prime ideal of \(A\).
The reduction \(\overline f\) of \(f\) modulo \(\mathfrak p\) is a nilpotent element of \((A/\mathfrak p)[[x]]\).
Since \((A/\mathfrak p)[[x]]\) is an integral domain by Claim \ref{claim:1.5.1}, it follows that \(\overline f = 0\).
Therefore, all the coefficients of \(f\) belong to the arbitrarily-chosen prime ideal \(\mathfrak p\), whence they are all nilpotent by Proposition 1.8.

The converse is not necessarily true (at least for non-Noetherian rings---cf.~\exref{7}{2} for the Noetherian case).
For example, consider the ring
\begin{equation*}
A = \mathbf{F}_2[t, t^{1/2}, t^{1/3}, \ldots]/(t)
\end{equation*}
and the formal power series
\begin{equation*}
f = \sum_{n=1}^\infty t^{1/n} x^n \in A[[x]].
\end{equation*}
The coefficients of \(f\) are all nilpotent.
Working in characteristic \(2\),
\begin{align*}
f^{2^k}
&= \left(t x + t^{1/2} x^2 + \cdots + t^{1/m} x^m + \sum_{n = m + 1}^\infty t^{1/n} x^n\right)^{2^k}
\\&= t^{2^k} x^{2^k} + t^{2^k / 2} x^{2\cdot2^k} + \cdots + t^{2^k / m} x^{m 2^k} + \left(\sum_{n = m+1}^\infty t^{1/n} x^n\right)^{2^k}
\end{align*}
for all positive integers \(k, m\), so that
\begin{equation*}
f^{2^k}
= \sum_{n=1}^\infty t^{2^k/n} x^{2^k n} \neq 0.
\end{equation*}
Now if \(m\) is a positive integer, choose a positive integer \(k\) such that \(2^k \geq m\), in which case \(f^{2^k} \neq 0\), so \(f^m \neq 0\).
Thus, \(f\) is not nilpotent.

(Another example of a non-nilpotent power series with nilpotent coefficients can be found in \cite[Example 2]{FieldsZeroDivisors}.)
\end{partsolution}

\begin{partsolution}{1}{5}{iii}
(\(\Rightarrow\))
Suppose \(f\) belongs to the Jacobson radical of \(A[[x]]\).
If \(y \in A\), then \(1 - y f\) is a unit by Proposition~1.9, so the constant term of \(1 - y f\), which is \(1 - y a_0\), is a unit by \ref{ex:1.5.i}.
Thus \(a_0\) belongs to the Jacobson radical of \(A\) by Proposition~1.9 again.

(\(\Leftarrow\))
Suppose \(a_0\) belongs to the Jacobson radical of \(A\).
Take \(g \in A[[x]]\), and let \(y\) be its constant term.
Then \(1 - y a_0\) is a unit in \(A\) by Proposition~1.9, and \(1 - y a_0\) is the constant term of \(1 - g f\).
Thus, \(1 - g f\) is a unit in \(A[[x]]\) by \ref{ex:1.5.i}, so \(f\) belongs to the Jacobson radical of \(A[[x]]\) by Proposition~1.9.
\end{partsolution}

Before proving \ref{ex:1.5.iv}, we make two claims.

\begin{claim}
\label{claim:ex:1.5.2}
If \(f = \sum_{n=0}^\infty a_n x^n \in A[[x]]\), then \(f - a_0\) belongs to the Jacobson radical of \(A[[x]]\).
\end{claim}

\begin{proof}
The constant term of \(f - a_0\) is zero, so it belongs to the Jacobson radical of \(A\).
Thus, by \ref{ex:1.5.iii}, \(f - a_0\) belongs to the Jacobson radical of \(A[[x]]\).
\end{proof}

\begin{claim}
\label{claim:ex:1.5.3}
Let \(\mathfrak{m}\) be a maximal ideal of \(A[[x]]\).
Then its contraction \(\mathfrak{m}^c = \mathfrak{m} \cap A\) consists of the constant terms of the elements of \(\mathfrak{m}\).
\end{claim}

\begin{proof}
If \(a \in \mathfrak{m}^c\), then \(a\) is the constant term of itself when viewed as an element of \(\mathfrak{m}\).
Conversely, suppose \(f = \sum_{n=0}^\infty a_n x^n \in \mathfrak{m}\).
We will show that \(a_0 \in \mathfrak{m}^c\).
By Claim~\ref{claim:ex:1.5.2}, \(f - a_0\) belongs to the Jacobson radical of \(A[[x]]\), so in particular \(f - a_0 \in \mathfrak{m}\).
It follows that \(a_0 = f - (f - a_0) \in \mathfrak{m}\).
\end{proof}

\begin{partsolution}{1}{5}{iv}
Suppose \(r \in A \setminus \mathfrak{m}^c\).
Then \(r \notin \mathfrak{m}\), so there exists an \(f \in A[[x]]\) and \(g \in \mathfrak{m}\) such that \(r f + g = 1\).
Let \(a_0\) and \(b_0\) be the constant terms of \(f\) and \(g\), respectively.
Then \(r a_0 + b_0 = 1\).
Since \(b_0 \in \mathfrak{m}^c\) by Claim~\ref{claim:ex:1.5.3}, it follows that \((r) + \mathfrak{m}^c = A\).
Thus, \(\mathfrak{m}^c\) is a maximal ideal of \(A\).

Next, we claim that \(\mathfrak{m}\) is generated by \(\mathfrak{m}^c\) and \(x\).
First, note that \(x\) belongs to the Jacobson radical of \(A[[x]]\) by Claim~\ref{claim:ex:1.5.2}, so \(x \in \mathfrak{m}\).
Thus, the ideal generated by \(\mathfrak{m}^c\) and \(x\) is contained in \(\mathfrak{m}\).
Conversely, if \(f = \sum_{n=0}^\infty a_n x^n \in \mathfrak{m}\), then \(a_0 \in \mathfrak{m}^c\) by Claim~\ref{claim:ex:1.5.3}, and writing
\begin{equation*}
f = a_0 + x \left(\sum_{n=0}^\infty a_{n+1} x^n\right)
\end{equation*}
shows that \(f\) belongs to the ideal generated by \(\mathfrak{m}^c\) and \(x\).
\end{partsolution}

\begin{partsolution}{1}{5}{v}
Let \(\mathfrak{p}\) be a prime ideal of \(A\), and let \(\mathfrak{p}[[x]]\) be the ideal of \(A[[x]]\) consisting of formal power series with coefficients in \(\mathfrak{p}\).
Then \(\mathfrak{p}\) is the contraction of \(\mathfrak{p}[[x]]\), and we claim that \(\mathfrak{p}[[x]]\) is a prime ideal of \(A[[x]]\).
Moreover, \(\mathfrak{p}[[x]]\) is the kernel of the surjective homomorphism \(A[[x]] \to (A / \mathfrak{p})[[x]]\) which sends \(f \in A[[x]]\) to the formal power series whose coefficients are the coefficients of \(f\) modulo \(\mathfrak{p}\).
Thus,
\begin{equation*}
A[[x]] / \mathfrak{p}[[x]] \cong (A / \mathfrak{p})[[x]].
\end{equation*}
Since \((A / \mathfrak{p})[[x]]\) is an integral domain by Claim~\ref{claim:1.5.1}, it follows that \(\mathfrak{p}[[x]]\) is a prime ideal of \(A[[x]]\).
\end{partsolution}